<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<header th:fragment="header" class="main_header">
    <div class="header_container">

        <!-- Left side: Contact Info -->
        <div class="header_contact">
            <p th:text="#{header.phone}">Call us:</p> <a href="tel:+995555123456"><b>+995 555 30 21 22</b></a>
            <p th:text="#{header.email}">Email:</p> <a href="mailto:info@nacarqeqia.ge"><b>info@nacarqeqia.ge</b></a>
            
            <!-- Language selector -->
            <div class="lang-selector">
                <a href="?lang=en" class="lang-option" th:classappend="${#locale.language == 'en'} ? 'active' : ''">EN</a>
                <a href="?lang=la" class="lang-option" th:classappend="${#locale.language == 'la'} ? 'active' : ''">LA</a>
            </div>
        </div>

        <!-- Center: Logo and Title -->
        <div class="header_logo">
            <a th:href="@{/}">
                <img th:src="@{/images/logo.png}" alt="Nacarqeqia Logo"/>
                <h1>Nacarqeqia</h1>
                <p class="slogan" th:text="#{site.slogan}">The Final Glow-Up ðŸ”¥</p>
            </a>
        </div>

        <!-- Right side: Navigation Links -->
        <div class="header_nav">
            <a th:href="@{/contact}" th:text="#{header.contact}">Contact</a>
            <a th:href="@{/about}" th:text="#{header.about}">About Us</a>
            <a th:href="@{/order/add}" th:text="#{header.order}">Order</a>
            
            <!-- Logout button (only visible when logged in) -->
            <div sec:authorize="isAuthenticated()" class="auth-controls">
                <span class="welcome-text" sec:authentication="name">Username</span>
                <form th:action="@{/logout}" method="post" class="logout-form">
                    <button type="submit" class="logout-button" th:text="#{header.logout}">Logout</button>
                </form>
            </div>
            
            <!-- Authentication links (only visible when not logged in) -->
            <div sec:authorize="!isAuthenticated()" class="auth-links">
                <a th:href="@{/login}" class="login-link" th:text="#{header.login}">Login</a>
                <a th:href="@{/register}" class="register-link" th:text="#{header.register}">Register</a>
            </div>
        </div>

    </div>
</header>
</body>
</html>
